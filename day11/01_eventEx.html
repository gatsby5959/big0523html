<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>나이구하기</title>
</head>
<body>
    이름 : <input type = "text" id = "name"> <br>
    주민번호 : <input type = "text" id = "rNum"> <br>
    <button type = "button" onclick="makeList()">확인</button>

    <h3 id="h3" >
        <!-- 이름 생년월일 성별 나이 -->
        
    </h3>

    <script>
        //오늘 날짜 리턴
        let now = new Date();
        console.log(now.getFullYear()); //연도만 추출


        function makeList(){
            let name = document.getElementById('name').value;
            let rNum = document.getElementById('rNum').value;
            // let sex = rNum.slice(1,3); //1~ 2까지
            rNum = rNum.replace('-', ''); //그냥 속편히 지워버림 입력이 되든 말든 숫자로 계싼
            
            
            let sex = rNum.slice(6,7); //6~6까지
            let birthday = rNum.slice(0,6); //0~5까지
            let curyear = now.getFullYear();
            let a = '19'
            let b = '20'

            let str1 = a.concat(rNum.slice(0,2));
            let str2 = b.concat(rNum.slice(0,2));

            console.log(str1,`${typeof str1} 테스트중`); // 1986


            // console.log(parseInt(toString('19')+toString(rNum.slice(0,2))));

            let age = parseInt(curyear) - parseInt(str1)
            let age2 = parseInt(curyear) - parseInt(str2)

            if(sex==1){
                sex = '남자'
            }else if(sex==2){
                sex = '여자'
            }else{
                sex = '1남자 2여자 둘다 아닙니다.'
             }

            h3.innerHTML =` 이름:${name} `
            h3.innerHTML +=` 생년월일:${birthday} `
            h3.innerHTML +=` 성별:${sex} `
            if(parseInt(rNum.slice(0,2))>=20  ){
            h3.innerHTML +=` 나이:${age} `}
            else{
            h3.innerHTML +=` 나이:${age2} `
            }


        //     let id = rNum.charAt(rNum.indexOf("-")+1);
        // if(id==1){
        //     console.log("1남자")
        // }else if(id==2){
        //     console.log("2여자")
        // }else{
        //     console.log("1 2 는 아님" );
        //     console.log(id);
        // }

            //birth -> date, pin -> number
            // birth = new Date(birth);
            // console.log(typeof birth);
            // pin = Number(pin);
            // console.log(typeof pin);
            
            //String -> 숫자로 변경
            //parseInt(변수=> 정수만 가능); 소수점 날림
            //Number(변수 => 숫자로 변경될 수 있는 문자)  소수점살림
            // pin = parseInt(pin);
            // console.log(typeof pin);


            //li 태그로 출력
            // userid: 가나다라 (데이터 타입)
            // let ol = document.getElementById('ol');
            // ol.innerHTML =`<li>${userid},${typeof userid}</li>`;
            // ol.innerHTML +=`<li>${userpw},${typeof userpw}</li>`;
            // ol.innerHTML +=`<li>${birth},${typeof birth}</li>`;
            // ol.innerHTML +=`<li>${pin},${typeof pin}</li>`;
        }
    </script>


<h3 id="info"></h3>
</body>
</html>