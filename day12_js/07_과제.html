<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Document</title>
</head>
<body>
    <!--  -->
    <button type="button" onclick="play(1);" id ='btn1'>
        <img src="/image/math_img_1.jpg" alt="">
    </button>
    <button type="button" onclick="play(2);" id ='btn2'>
        <img src= "/image/math_img_2.jpg" alt="">
    </button>
    <button type="button" onclick="play(3);" id ='btn3' >
        <img src="/image/math_img_3.jpg" alt="">
    </button>

    <h3 id = 'result'></h3>


    
    <script>
        
    function play(n){
        
        if(n==1){
        return `당신은 ${n}가위 입니다. \n`;
        }
        if(n==2){
        return `당신은 ${n}바위 입니다. \n`;
        }
        if(n==3){
        return `당신은 ${n}보 입니다. \n`;
        }
    }
    
        let allcount = 0; //총카운트
        let allwin = 0;
        let alldraw = 0;
        let alllose = 0;

        let draw = 0; //무
        let lose = 0; //패
        let win = 0; //승
        document.getElementById('btn1').addEventListener('click',()=>{
        //S-------------------------------------------------------------------------------S
        document.getElementById('result').innerText = play(1);
        //콜백함수??? 막 연결해서 사용
   
            // for(let i =0; i < 10; i++) {
                // let me = Math.floor(Math.random()*3)+1;
                let me = 1;
                let com = Math.floor(Math.random()*3)+1; 
                console.log(me);
                console.log(com);

                switch(me){
                    case 1:
                        //가위
                        com == 1 ? draw++ : com == 2? lose++ : win++ ;
                        break;
                    case 2:
                        //바위
                        com == 2 ? draw++ : com ==3? lose++ : win++;
                        break;
                    case 3:
                        //보
                        com == 3 ?  draw++ : com ==1? lose++ : win++;
                        break;
                    default : break;
                }
                // console.log("승 : ", win , "무:", draw , "패" , lose);
                allwin =allwin + win;
                alllose =alllose + lose;
                alldraw = alldraw + draw;
                allcount++;
                let comtext = '';
                if(com==1){comtext='가위'}
                if(com==2){comtext='바위'}
                if(com==3){comtext='보'}
                document.getElementById('result').innerText += `컴퓨터는 ${com}${comtext}\n`;
                if(win == 1){  document.getElementById('result').innerText += `당신이 이겼습니다. \n`}
                if(lose == 1){  document.getElementById('result').innerText += `당신이 졌습니다. \n`}
                if(draw == 1){  document.getElementById('result').innerText += `무승부입니다. \n`}
                // document.getElementById('result').innerText +=
                win = 0;
                lose = 0;
                draw = 0;
                ( 
                    //(win/(10-draw))*100).toPrecision(4)
                    (win/(10))*100).toPrecision(4)
                // .toPrecision() : 전체 자리수 포함한 자리수
            // }
            document.getElementById('result').innerText += `\n현재 전적\n `
            document.getElementById('result').innerText += ` 승:`
            document.getElementById('result').innerText += `${allwin}`
            document.getElementById('result').innerText += ` 무:`
            document.getElementById('result').innerText += `${alldraw}`
            document.getElementById('result').innerText += ` 패:`
            document.getElementById('result').innerText += `${alllose}`
            document.getElementById('result').innerText += ` 승률:`
            let winrate = allwin/allcount*100;
            let int_winrate = parseInt(winrate);
            document.getElementById('result').innerText += `${int_winrate}%`
            //E-------------------------------------------------------------------------------E
    })
    document.getElementById('btn2').addEventListener('click',()=>{
        // document.getElementById('result').innerText = play(2);
        //S-------------------------------------------------------------------------------S
        document.getElementById('result').innerText = play(2);
        //콜백함수??? 막 연결해서 사용
   
            // for(let i =0; i < 10; i++) {
                // let me = Math.floor(Math.random()*3)+1;
                let me = 1;
                let com = Math.floor(Math.random()*3)+1; 
                console.log(me);
                console.log(com);

                switch(me){
                    case 1:
                        //가위
                        com == 1 ? draw++ : com == 2? lose++ : win++ ;
                        break;
                    case 2:
                        //바위
                        com == 2 ? draw++ : com ==3? lose++ : win++;
                        break;
                    case 3:
                        //보
                        com == 3 ?  draw++ : com ==1? lose++ : win++;
                        break;
                    default : break;
                }
                // console.log("승 : ", win , "무:", draw , "패" , lose);
                allwin =allwin + win;
                alllose =alllose + lose;
                alldraw = alldraw + draw;
                allcount++;
                let comtext = '';
                if(com==1){comtext='가위'}
                if(com==2){comtext='바위'}
                if(com==3){comtext='보'}
                document.getElementById('result').innerText += `컴퓨터는 ${com}${comtext}\n`;
                if(win == 1){  document.getElementById('result').innerText += `당신이 이겼습니다. \n`}
                if(lose == 1){  document.getElementById('result').innerText += `당신이 졌습니다. \n`}
                if(draw == 1){  document.getElementById('result').innerText += `무승부입니다. \n`}
                // document.getElementById('result').innerText +=
                win = 0;
                lose = 0;
                draw = 0;
                ( 
                    //(win/(10-draw))*100).toPrecision(4)
                    (win/(10))*100).toPrecision(4)
                // .toPrecision() : 전체 자리수 포함한 자리수
            // }
            document.getElementById('result').innerText += `\n현재 전적\n `
            document.getElementById('result').innerText += ` 승:`
            document.getElementById('result').innerText += `${allwin}`
            document.getElementById('result').innerText += ` 무:`
            document.getElementById('result').innerText += `${alldraw}`
            document.getElementById('result').innerText += ` 패:`
            document.getElementById('result').innerText += `${alllose}`
            document.getElementById('result').innerText += ` 승률:`
            let winrate = allwin/allcount*100;
            let int_winrate = parseInt(winrate);
            document.getElementById('result').innerText += `${int_winrate}%`
            //E-------------------------------------------------------------------------------E
    
    })
    document.getElementById('btn3').addEventListener('click',()=>{
    // document.getElementById('result').innerText = play(3);
       //S-------------------------------------------------------------------------------S
       document.getElementById('result').innerText = play(3);
        //콜백함수??? 막 연결해서 사용
   
            // for(let i =0; i < 10; i++) {
                // let me = Math.floor(Math.random()*3)+1;
                let me = 1;
                let com = Math.floor(Math.random()*3)+1; 
                console.log(me);
                console.log(com);

                switch(me){
                    case 1:
                        //가위
                        com == 1 ? draw++ : com == 2? lose++ : win++ ;
                        break;
                    case 2:
                        //바위
                        com == 2 ? draw++ : com ==3? lose++ : win++;
                        break;
                    case 3:
                        //보
                        com == 3 ?  draw++ : com ==1? lose++ : win++;
                        break;
                    default : break;
                }
                // console.log("승 : ", win , "무:", draw , "패" , lose);
                allwin =allwin + win;
                alllose =alllose + lose;
                alldraw = alldraw + draw;
                allcount++;
                let comtext = '';
                if(com==1){comtext='가위'}
                if(com==2){comtext='바위'}
                if(com==3){comtext='보'}
                document.getElementById('result').innerText += `컴퓨터는 ${com}${comtext}\n`;
                if(win == 1){  document.getElementById('result').innerText += `당신이 이겼습니다. \n`}
                if(lose == 1){  document.getElementById('result').innerText += `당신이 졌습니다. \n`}
                if(draw == 1){  document.getElementById('result').innerText += `무승부입니다. \n`}
                // document.getElementById('result').innerText +=
                win = 0;
                lose = 0;
                draw = 0;
                ( 
                    //(win/(10-draw))*100).toPrecision(4)
                    (win/(10))*100).toPrecision(4)
                // .toPrecision() : 전체 자리수 포함한 자리수
            // }
            document.getElementById('result').innerText += `\n현재 전적\n `
            document.getElementById('result').innerText += ` 승:`
            document.getElementById('result').innerText += `${allwin}`
            document.getElementById('result').innerText += ` 무:`
            document.getElementById('result').innerText += `${alldraw}`
            document.getElementById('result').innerText += ` 패:`
            document.getElementById('result').innerText += `${alllose}`
            document.getElementById('result').innerText += ` 승률:`
            let winrate = allwin/allcount*100;
            let int_winrate = parseInt(winrate);
            document.getElementById('result').innerText += `${int_winrate}%`
            //E-------------------------------------------------------------------------------E

    })
    </script>
</body>
</html>